<!DOCTYPE html>
<html>
<head>
  <title>Mock Test Platform</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .question { margin-bottom: 20px; }
    button { padding: 10px; margin-top: 10px; }
  </style>
</head>
<body>

<h1>Mock Test Platform</h1>
<select id="topicSelect" onchange="loadTopic()">
  <option value="">-- Select Topic --</option>
  <option value="SVD">SVD</option>
  <option value="MIMO">MIMO</option>
</select>

<div id="quiz"></div>

<button onclick="submitTest()">Submit Test</button>

<h2 id="result"></h2>
<script src="questions.js"></script>

<script>
let questions = [];
function loadTopic() {
  const topic = document.getElementById("topicSelect").value;
  if (!topic) return;
  questions = questionBank[topic];
  loadQuiz();
}

function loadQuiz() {
  
  const quizDiv = document.getElementById("quiz");
  quizDiv.innerHTML = "";
  questions.forEach((q, index) => {
    quizDiv.innerHTML += `
      <div class="question">
        <p>${index + 1}. ${q.question}</p>
        ${q.options.map((opt, i) =>
          `<label>
            <input type="radio" name="q${index}" value="${i}">
            ${opt}
          </label><br>`
        ).join("")}
        <p id="exp${index}" style="display:none; color: green;"></p>
      </div>
    `;
  });
}

function submitTest() {
  let score = 0;
  questions.forEach((q, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    const exp = document.getElementById(`exp${index}`);
    if (selected && Number(selected.value) === q.correct) {
      score++;
      exp.innerText = "✔ Correct. " + q.explanation;
    } else {
      exp.innerText = "✘ Wrong. Correct answer: " + q.options[q.correct] + ". " + q.explanation;
    }
    exp.style.display = "block";
  });
  document.getElementById("result").innerText =
    `Score: ${score} / ${questions.length}`;
}

loadQuiz();
  
</script>


</body>
</html>
